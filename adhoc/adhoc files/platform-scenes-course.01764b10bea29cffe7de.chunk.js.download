(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[402],{PyEA:function(e,t,r){"use strict";r.r(t);var o=r("wx14"),n=r("rePB"),s=r("ODXe"),c=r("q1tI"),i=r.n(c),a=r("/MKj"),u=r("GR0a"),p=r("/BuZ"),h=r("e18T"),l=r("cHig"),b=r("yy36"),C=r("Ff2n"),O=r("G9Ht"),j=r.n(O),w=r("cQ3R"),P=r("b0K7"),m=r("1xSP"),y=r("lzsc"),f=r("c8W1"),d=r("2oex"),I=r("CWAm"),g=r("raiL");function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const _={showModal:r("givd").c,nextContentItemRequested:f.b,trackVisit:I.i};class courseContentItem_CourseContentItem extends c.Component{constructor(...e){super(...e),this.componentDidUpdate=e=>{e.hasCourseContentItemAccess&&!this.props.hasCourseContentItemAccess&&this.showProExclusiveCourseInterstitial()},this.redirectToContainerCourse=()=>{const e=this.props.locationQuery.course_redirect;return!!e&&(window.location.assign(Object(P.jb)(e)),!0)},this.showNextContentInterstitial=()=>{const e=this.props,t=e.hasNextContent,r=e.showCourseCompletionInterstitial;if(t||r)this.props.nextContentItemRequested({returnPath:this.returnPath()});else{if(this.redirectToContainerCourse())return;window.location.assign(this.returnPath())}},this.showProExclusiveCourseInterstitial=()=>{const e=this.props.showProCoursePreviewFeature;this.props.showModal({type:"ProExclusiveCourseInterstitial",returnPath:this.returnPath(),showProCoursePreviewFeature:e})}}componentDidMount(){this.props.hasCourseContentItemAccess||this.showProExclusiveCourseInterstitial()}returnPath(){const e=this.props.locationParams;return Object(P.jb)(e.trackSlug)}render(){const e=this.props,t=e.currentContentItem,r=(e.hasCourseAccess,e.hasCourseContentItemAccess),n=(e.showProCoursePreviewFeature,e.platformPage),s=e.contentTitle,c=_objectSpread(_objectSpread({},Object(C.a)(e,["currentContentItem","hasCourseAccess","hasCourseContentItemAccess","showProCoursePreviewFeature","platformPage","contentTitle"])),{},{exitPaths:{logo:"/",back:this.returnPath()},navigateToExercise:this.props.navigateToExercise,redirectToContainerCourse:this.redirectToContainerCourse,showNextContentInterstitial:this.showNextContentInterstitial}),a=m.c[t.type].component;return i.a.createElement(i.a.Fragment,null,i.a.createElement(w.a,{title:s}),i.a.createElement(a,Object(o.a)({next:()=>{}},c,{platformPage:n,disabled:!r,currentContentItem:t})))}}var v=Object(a.connect)((e=>{const t=Object(d.x)(e),r=Object(g.a)(e).includes("pro_course_preview")&&!j.a.phone;return{currentCourse:t,contentTitle:Object(d.i)(e),currentContentItem:Object(d.l)(e),nextContentItems:Object(d.I)(e),hasNextContent:Object(d.H)(e),showProCoursePreviewFeature:r,showCourseCompletionInterstitial:Object(y.c)(e),hasCourseAccess:Object(d.D)(e),hasCourseContentItemAccess:Object(d.E)(e)}}),_)(courseContentItem_CourseContentItem);function course_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function course_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?course_ownKeys(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):course_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const x={fetchInitialCourseContent:l.b};t.default=Object(a.connect)((e=>({isAnonymous:Object(b.v)(e)})),x)((e=>{const t=Object(c.useState)(!0),r=Object(s.a)(t,2),n=r[0],a=r[1],l=e.locationParams,b=e.locationQuery,C=e.dispatch,O=e.fetchInitialCourseContent,j=e.isAnonymous;if(Object(c.useEffect)((()=>{if(j)return;a(!0),(async()=>{await O(),a(!1)})()}),[j,l.trackSlug,O]),j||n)return i.a.createElement(p.a,null);return i.a.createElement(v,Object(o.a)({navigateToExercise:(e,t=!1)=>{let r=h.c(course_objectSpread(course_objectSpread({},l),{},{sectionType:"exercises",exerciseSlug:e,query:b}));t&&(r=Object(u.redirect)(r)),C(r)}},e))}))}}]);
//# sourceMappingURL=platform-scenes-course.01764b10bea29cffe7de.chunk.js.map